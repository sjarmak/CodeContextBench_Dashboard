{
  "$schema": "https://tycoonverse.io/schemas/server-config.json",
  "version": "1.2.0",
  "generatedOnUtc": "2024-06-15T14:00:00Z",

  "environments": {
    "development": {
      "description": "Internal sandbox; data is reset nightly.",
      "baseUrl": "https://dev-api.tycoonverse.local",
      "apiKey": "DEV-CHANGE-ME",
      "certificatePinHash": "sha256/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=",
      "timeouts": {
        "requestSeconds": 30,
        "resourceSeconds": 60,
        "connectSeconds": 15
      },
      "retryPolicy": {
        "maxRetryCount": 3,
        "backoffSeconds": 2,
        "mode": "exponential"
      },
      "services": {
        "auth":            { "path": "/v1/auth" },
        "catalog":         { "path": "/v1/catalog" },
        "analytics":       { "path": "/v1/telemetry" },
        "crashReporting":  { "path": "/v1/crash" },
        "sync":            { "path": "/v1/sync" },
        "assetCdn":        { "url": "https://dev-cdn.tycoonverse.local/assets" }
      }
    },

    "staging": {
      "description": "Pre-production test bed for release candidates.",
      "baseUrl": "https://stg-api.tycoonverse.com",
      "apiKey": "STG-CHANGE-ME",
      "certificatePinHash": "sha256/BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB=",
      "timeouts": {
        "requestSeconds": 25,
        "resourceSeconds": 50,
        "connectSeconds": 15
      },
      "retryPolicy": {
        "maxRetryCount": 4,
        "backoffSeconds": 3,
        "mode": "exponential"
      },
      "services": {
        "auth":            { "path": "/v1/auth" },
        "catalog":         { "path": "/v1/catalog" },
        "analytics":       { "path": "/v1/telemetry" },
        "crashReporting":  { "path": "/v1/crash" },
        "sync":            { "path": "/v1/sync" },
        "assetCdn":        { "url": "https://stg-cdn.tycoonverse.com/assets" }
      }
    },

    "production": {
      "description": "Live player traffic; use strongest security constraints.",
      "baseUrl": "https://api.tycoonverse.com",
      "apiKey": "PROD-CHANGE-ME",
      "certificatePinHash": "sha256/CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC=",
      "timeouts": {
        "requestSeconds": 20,
        "resourceSeconds": 45,
        "connectSeconds": 10
      },
      "retryPolicy": {
        "maxRetryCount": 5,
        "backoffSeconds": 5,
        "mode": "exponential"
      },
      "services": {
        "auth":            { "path": "/v1/auth" },
        "catalog":         { "path": "/v1/catalog" },
        "analytics":       { "path": "/v1/telemetry" },
        "crashReporting":  { "path": "/v1/crash" },
        "sync":            { "path": "/v1/sync" },
        "assetCdn":        { "url": "https://cdn.tycoonverse.com/assets" }
      }
    }
  },

  "features": {
    "biometricAuth":         true,
    "deterministicOffline":  true,
    "productScanner":        true,
    "locationBasedEvents":   true,
    "experimentation": {
      "abTesting":           true,
      "rolloutPercentage":   0.10           /* 10% of players receive experimental variants */
    }
  },

  "telemetry": {
    "flushIntervalSeconds": 15,
    "samplingRate": 1.0,                    /* 1.0 â†’ 100% */
    "maxBatchSize": 50,
    "compression": "gzip",
    "persistence": {
      "maxLocalDiskMb": 5,
      "evictionPolicy": "fifo"
    }
  },

  "pushNotifications": {
    "provider": "Firebase",
    "android": {
      "projectNumber": "123456789012"
    },
    "ios": {
      "apnsTopic": "com.tycoonverse.game"
    },
    "retryPolicy": {
      "maxRetryCount": 3,
      "backoffSeconds": 15
    }
  },

  "security": {
    "jwt": {
      "allowedAlgorithms": [ "RS256" ],
      "clockSkewSeconds": 90,
      "tokenRefreshMarginSeconds": 600
    },
    "certificatePinning": {
      "enabled": true,
      "enforceOn": [ "production", "staging" ]
    }
  },

  "logging": {
    "minimumLevel": "Warning",
    "remoteLogLevel": "Error",
    "maskSensitiveData": true
  }
}
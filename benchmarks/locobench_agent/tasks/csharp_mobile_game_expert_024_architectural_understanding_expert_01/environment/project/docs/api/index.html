```html
<!DOCTYPE html>
<html lang="en">
<head>
    <!--
        TycoonVerse API Documentation
        --------------------------------
        This file is auto-generated and SHOULD NOT be edited by hand. 
        Last Generation: 2024-05-05T14:28:00Z
    -->
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>TycoonVerse â€¢ Public SDK (v2.4) â€“ API Reference</title>

    <!-- Syntax highlighting via highlight.js -->
    <link rel="stylesheet" 
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" />
    <script 
        defer
        src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Roboto + Inter for a pleasant reading experience -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Roboto+Mono&display=swap" rel="stylesheet">

    <style>
        :root {
            color-scheme: light dark;
            --clr-bg: #0f1116;
            --clr-surface: #1b1e25;
            --clr-text: #e5e9f0;
            --clr-accent: #16b2f0;
            --clr-border: #2a2d35;
        }

        body {
            margin: 0;
            font-family: "Inter", system-ui, sans-serif;
            background-color: var(--clr-bg);
            color: var(--clr-text);
        }

        header {
            background: var(--clr-surface);
            padding: 1rem 2rem;
            border-bottom: 1px solid var(--clr-border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 999;
        }

        header h1 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        nav a {
            color: var(--clr-text);
            text-decoration: none;
            margin-left: 1.5rem;
            font-size: 0.95rem;
            position: relative;
        }

        nav a:hover::after,
        nav a:focus::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--clr-accent);
        }

        main {
            display: grid;
            grid-template-columns: minmax(240px, 18%) 1fr;
            gap: 0;
        }

        aside {
            border-right: 1px solid var(--clr-border);
            background: var(--clr-surface);
            height: calc(100vh - 64px); /* 64px header */
            overflow-y: auto;
            position: sticky;
            top: 64px;
        }

        aside ul {
            list-style: none;
            margin: 0;
            padding: 0.5rem 1rem 4rem 1rem;
        }

        aside li {
            margin: 0.25rem 0;
        }

        aside a {
            display: block;
            padding: 0.35rem 0.5rem;
            color: var(--clr-text);
            text-decoration: none;
            border-radius: 4px;
            line-height: 1.4;
            font-size: 0.9rem;
            transition: background 0.2s ease-in-out;
        }

        aside a:hover,
        aside a:focus {
            background: var(--clr-border);
            color: var(--clr-accent);
        }

        section.content {
            padding: 2rem 3rem;
            line-height: 1.7;
        }

        h2, h3, h4 {
            color: var(--clr-accent);
            margin-top: 1.5rem;
        }

        pre {
            background: var(--clr-surface);
            border: 1px solid var(--clr-border);
            border-radius: 6px;
            padding: 1rem;
            overflow-x: auto;
            font-family: "Roboto Mono", monospace;
            font-size: 0.85rem;
            position: relative;
        }

        /* Copy-to-clipboard button */
        pre button.copy {
            position: absolute;
            top: 8px;
            right: 8px;
            background: transparent;
            color: var(--clr-text);
            border: 1px solid var(--clr-border);
            border-radius: 4px;
            padding: 0.15rem 0.35rem;
            cursor: pointer;
            font-size: 0.7rem;
        }

        pre button.copy:hover {
            background: var(--clr-border);
        }

        footer {
            padding: 2rem;
            text-align: center;
            font-size: 0.8rem;
            border-top: 1px solid var(--clr-border);
        }

        /* Mobile tweaks */
        @media (max-width: 920px) {
            main {
                grid-template-columns: 1fr;
            }
            aside {
                display: none;
            }
        }
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // enable syntax highlighting
            hljs.highlightAll();

            // Add a copy-to-clipboard button for each code block
            document.querySelectorAll('pre > code').forEach((codeBlock) => {
                const button = document.createElement('button');
                button.className = 'copy';
                button.textContent = 'Copy';
                button.addEventListener('click', () => {
                    navigator.clipboard.writeText(codeBlock.innerText)
                        .then(() => {
                            button.textContent = 'Copied!';
                            setTimeout(() => button.textContent = 'Copy', 1200);
                        })
                        .catch(() => {
                            button.textContent = 'Error';
                        });
                });
                codeBlock.parentNode.appendChild(button);
            });

            // Smooth-scroll for in-page navigation
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href'))
                        .scrollIntoView({behavior: 'smooth', block: 'start'});
                });
            });
        });
    </script>
</head>

<body>
<header>
    <h1>TycoonVerse SDK â€¢ API Reference</h1>
    <nav>
        <a href="#getting-started">Getting Started</a>
        <a href="#auth">Authentication</a>
        <a href="#services">Game Services</a>
        <a href="#analytics">Analytics</a>
        <a href="#faq">FAQ</a>
    </nav>
</header>

<main>
    <aside>
        <ul>
            <li><strong>Contents</strong></li>
            <li><a href="#getting-started">1. Getting Started</a></li>
            <li><a href="#auth">2. Authentication</a></li>
            <li><a href="#services">3. Game Services</a></li>
            <li><a href="#analytics">4. Analytics</a></li>
            <li><a href="#faq">5. FAQ</a></li>
        </ul>
    </aside>

    <section class="content">
        <!-- Getting Started -->
        <h2 id="getting-started">1. Getting Started</h2>
        <p>
            The TycoonVerse SDK empowers you to integrate advanced simulation capabilities into your own Unity
            experiments or mod the retail game. All APIs are built in C# with a clean asynchronous surface
            (<code>async/await</code>) to ensure non-blocking gameplay.
        </p>
        <p>
            To install the SDK, add the following NuGet package reference to your
            <code>manifest.json</code> (Unity) or <code>.csproj</code>:
        </p>

<pre><code class="language-json">"dependencies": {
  "com.tycoonverse.sdk": "2.4.0"
}</code></pre>

        <p>Or via the .NET CLI:</p>
<pre><code class="language-bash">dotnet add package TycoonVerse.SDK --version 2.4.0</code></pre>

        <p>Once referenced, bootstrap the core runtime as early as possibleâ€”typically during your
        Unity <code>Awake</code> lifecycle:</p>

<pre><code class="language-csharp">using TycoonVerse.Runtime;

public class Startup : MonoBehaviour
{
    private async void Awake()
    {
        // Initialize the SDK runtime. This method is idempotent.
        await TvRuntime.InitializeAsync(
            new TvRuntimeOptions
            {
                Environment = TvEnvironment.Production,
                EnableOfflineCache = true,
                EnableTelemetry    = true
            });
    }
}</code></pre>

        <!-- Authentication -->
        <h2 id="auth">2. Authentication</h2>
        <p>
            The platform supports anonymous, email, and biometric sign-in flows. All methods funnel
            through the <code>ITvAuthService</code> interface, allowing custom DI injection for unit tests.
        </p>

<pre><code class="language-csharp">using TycoonVerse.Auth;
using TycoonVerse.Auth.Models;

public sealed class LoginController
{
    private readonly ITvAuthService _auth;

    public LoginController(ITvAuthService auth) => _auth = auth;

    /// &lt;summary>
    /// Performs face-ID based authentication if available, falling back to e-mail magic link.
    /// &lt;/summary>
    public async Task<bool> LoginAsync(string email)
    {
        try
        {
            // Prefer on-device biometrics to avoid credential entry
            if (await _auth.SupportsBiometricsAsync())
            {
                var result = await _auth.BiometricAsync();
                return result == SignInResult.Success;
            }

            // Fallback: magic link sign-in
            return await _auth.EmailMagicLinkAsync(email) == SignInResult.Success;
        }
        catch (TvAuthException ex)
        {
            // A centralized logger pipes to both Sentry and AppCenter
            TvLog.Error(ex, "Login failed");
            return false;
        }
    }
}</code></pre>

        <h3>Token Lifecycle</h3>
        <p>
            All service calls automatically refresh expiring JWTs behind the scenes. However, if you need to
            manually observe token status (e.g., to refresh UI badges), subscribe to the <code>TokenChanged</code>
            observable:
        </p>

<pre><code class="language-csharp">TvRuntime.Auth.TokenChanged += (_, args) =>
{
    Debug.Log($"Auth: Token will expire at {args.ExpiresAt:u}");
};</code></pre>

        <!-- Game Services -->
        <h2 id="services">3. Game Services</h2>
        <p>
            Core domain areas are grouped into discrete service gateways following the Repository Pattern.
        </p>

        <h3>3.1 Inventory Service</h3>
        <p>The inventory gateway provides CRUD operations and price forecasting:</p>

<pre><code class="language-csharp">using TycoonVerse.Inventory;

public class InventoryExample
{
    private readonly IInventoryRepository _repo;

    public InventoryExample(IInventoryRepository repo) => _repo = repo;

    public async Task CreateSampleAsync()
    {
        var item = InventoryItem.Factory.Create("Steel Beams", "Raw Materials", 10_000m);

        // Persist locally, syncing later if offline
        await _repo.AddAsync(item);

        // Forecast next-week price volatility
        var forecast = await _repo.ForecastAsync(item.Id, TimeSpan.FromDays(7));
        Debug.Log($"Expected margin: {forecast.ExpectedMargin:P2}");
    }
}</code></pre>

        <h3>3.2 Finance Service</h3>
        <p>
            The finance gateway surfaces real-time KPIs such as EBITDA and cash-on-hand, vital for
            charts and executive dashboards.
        </p>

<pre><code class="language-csharp">using TycoonVerse.Finance;

public class FinanceHud : MonoBehaviour
{
    private ITvFinanceService _svc;

    private async void Start()
    {
        _svc = TvRuntime.Resolve<ITvFinanceService>();

        // Load current statement (offline friendly)
        var statement = await _svc.GetIncomeStatementAsync();

        // Bind to reactive updates (Observer Pattern)
        _svc.StatementUpdated += (_, args) =>
        {
            UpdateUi(args.Statement);
        };

        UpdateUi(statement);
    }

    private void UpdateUi(IncomeStatement statement)
    {
        profitabilityLabel.text = $"EBITDA: {statement.Ebitda:C}";
        cashLabel.text          = $"Cash:   {statement.Cash:C}";
    }
}</code></pre>

        <!-- Analytics -->
        <h2 id="analytics">4. Analytics</h2>
        <p>
            Out of the box, the SDK ships with adapters for Firebase, AppCenter, and a privacy-centric
            self-hosted collector. Each adapter implements the <code>ITvAnalyticsAdapter</code> interface.
        </p>

<pre><code class="language-csharp">using TycoonVerse.Analytics;

public class TutorialFunnel
{
    private readonly ITvAnalytics _analytics = TvRuntime.Analytics;

    public void StepCompleted(int step)
    {
        _analytics.TrackEvent("tutorial_step_completed", new
        {
            step,
            build = Application.version
        });
    }

    public void TutorialFinished()
    {
        _analytics.TrackEvent("tutorial_finished");
        _analytics.FlushAsync().Forget(); // Fire â€‘and-forget extension
    }
}</code></pre>

        <h3>GDPR & COPPA Compliance</h3>
        <p>
            All personal data collection points funnel through explicit consent APIs. To disable tracking at runtime:
        </p>

<pre><code class="language-csharp">await TvRuntime.Analytics.SetConsentAsync(ConsentCategory.Analytics, granted: false);</code></pre>

        <!-- FAQ -->
        <h2 id="faq">5. FAQ</h2>
        <h4>What .NET version is required?</h4>
        <p>.NET Standard 2.1+. The package is fully compatible with Unity 2022 LTS.</p>

        <h4>Is offline play really deterministic?</h4>
        <p>
            Yes. All commands serialize into an append-only event log that replays identically
            regardless of device, OS, or locale. Hash checks guarantee integrity before re-syncing.
        </p>

        <h4>How can I contribute?</h4>
        <p>
            Fork <code>TycoonVerse/enterprise-sdk</code>, create a feature branch, ensure unit tests pass
            (<code>dotnet test</code>), then open a PR. Please read <em>CONTRIBUTING.md</em>.
        </p>
    </section>
</main>

<footer>
    Â© 2019-2024 TycoonVerse Studios â€¢ Built with ðŸ’™ in Zurich â€¢ Docs powered by static-gen v1.2
</footer>
</body>
</html>
```
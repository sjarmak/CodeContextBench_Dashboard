```xml
<?xml version="1.0" encoding="UTF-8"?>
<!--
    *****************************************************************************************
    * CommerceSphere Enterprise Suite – Ehcache v3 Configuration                              *
    *                                                                                       *
    * Purpose   : Central cache specification shared by every logical layer (MVC, REST,     *
    *             Service, Repository). Keeping all caches in one XML guarantees             *
    *             reproducible behaviour across local, staging and production environments.  *
    *                                                                                       *
    * Highlights:                                                                            *
    *   • Disk persistence to prevent cache-stampedes after service restarts                 *
    *   • Asynchronous event listener that funnels eviction and expiry events to             *
    *     audit-grade logger                                                                 *
    *   • Sensible defaults enforced through <cache-template>                                *
    *   • JSR-107 (JCache) integration for transparent Spring caching abstractions           *
    *                                                                                       *
    * NOTE: Values marked with ${…} may be overridden via JVM system properties or           *
    *       application-yaml to accommodate container specific sizing.                       *
    *****************************************************************************************
-->
<config xmlns="http://www.ehcache.org/v3"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="
            http://www.ehcache.org/v3
            http://www.ehcache.org/schema/ehcache-core.xsd">

    <!-- ====================================================================================
         GLOBAL  SETTINGS
         ==================================================================================== -->
    <!-- Persist data on the local filesystem to minimise cold-boot penalties -->
    <persistence directory="${ehcache.persistence.dir:${java.io.tmpdir}/commerce-sphere-cache}"/>

    <!-- Dedicated thread-pool used exclusively for cache maintenance tasks
         (write-behind, expiry scanning, async listeners, etc.) -->
    <thread-pools>
        <thread-pool alias="cache-thread-pool" size="${ehcache.threadPool.size:4}"/>
    </thread-pools>

    <service>
        <!-- Compact serializer lowers footprint compared to default Java serialization -->
        <defaultSerializationProvider>
            <class>org.ehcache.impl.serialization.CompactJavaSerializer</class>
        </defaultSerializationProvider>

        <!-- JSR-107 integration; defaultTemplate will be used for caches created at runtime -->
        <jsr107Service defaultTemplate="defaultCacheTemplate"/>
    </service>

    <!-- ====================================================================================
         TEMPLATES
         ==================================================================================== -->
    <cache-template name="defaultCacheTemplate">
        <!-- Standard expiry: 60-minute TTL unless specifically overridden by the cache -->
        <expiry>
            <ttl unit="minutes">60</ttl>
        </expiry>

        <!-- Shared, asynchronous listener that logs cache events to SLF4J for auditability -->
        <listeners dispatch-mode="unordered">
            <listener>
                <class>com.commercesphere.infrastructure.cache.listener.CacheEventLogger</class>
                <event-firing-mode>ASYNCHRONOUS</event-firing-mode>
                <event-ordering-mode>UNORDERED</event-ordering-mode>
                <!-- Fire on all life-cycle events -->
                <events-to-fire-on>CREATED</events-to-fire-on>
                <events-to-fire-on>UPDATED</events-to-fire-on>
                <events-to-fire-on>EVICTED</events-to-fire-on>
                <events-to-fire-on>REMOVED</events-to-fire-on>
                <events-to-fire-on>EXPIRED</events-to-fire-on>
            </listener>
        </listeners>

        <resources>
            <!-- Heap count is purposely conservative; most data lives off-heap -->
            <heap unit="entries">${ehcache.default.heap.entries:1000}</heap>
            <!-- Off-heap delivers GC-free, highly predictable latency -->
            <offheap unit="MB">${ehcache.default.offheap.mb:32}</offheap>
        </resources>
    </cache-template>

    <!-- ====================================================================================
         NAMED CACHES
         ==================================================================================== -->

    <!-- Product catalog details for storefront queries -->
    <cache alias="productCatalogCache" uses-template="defaultCacheTemplate">
        <expiry>
            <ttl unit="minutes">30</ttl>
        </expiry>
        <resources>
            <heap unit="entries">${ehcache.product.heap.entries:10000}</heap>
            <offheap unit="MB">${ehcache.product.offheap.mb:128}</offheap>
        </resources>
    </cache>

    <!-- Dynamic, customer-specific contract pricing -->
    <cache alias="priceCache" uses-template="defaultCacheTemplate">
        <expiry>
            <ttl unit="minutes">10</ttl>
        </expiry>
        <resources>
            <heap unit="entries">${ehcache.price.heap.entries:20000}</heap>
            <offheap unit="MB">${ehcache.price.offheap.mb:64}</offheap>
        </resources>
    </cache>

    <!-- Stateless authentication token cache to reduce DB hits -->
    <cache alias="userSessionCache" uses-template="defaultCacheTemplate">
        <expiry>
            <ttl unit="hours">1</ttl>  <!-- Maximum session length -->
            <tti unit="minutes">30</tti> <!-- Idle timeout -->
        </expiry>
        <resources>
            <heap unit="entries">${ehcache.session.heap.entries:5000}</heap>
            <offheap unit="MB">${ehcache.session.offheap.mb:64}</offheap>
        </resources>
    </cache>

    <!-- Hierarchical role cache for complex, nested account structures -->
    <cache alias="roleHierarchyCache" uses-template="defaultCacheTemplate">
        <expiry>
            <ttl unit="hours">24</ttl>
        </expiry>
        <resources>
            <heap unit="entries">${ehcache.role.heap.entries:1000}</heap>
            <offheap unit="MB">${ehcache.role.offheap.mb:16}</offheap>
        </resources>
    </cache>

    <!-- Cache for in-progress, yet-to-be-submitted quotes -->
    <cache alias="orderQuoteCache" uses-template="defaultCacheTemplate">
        <!-- Time-to-idle chosen to free abandoned quote drafts quickly -->
        <expiry>
            <tti unit="minutes">15</tti>
        </expiry>
        <resources>
            <heap unit="entries">${ehcache.quote.heap.entries:5000}</heap>
            <offheap unit="MB">${ehcache.quote.offheap.mb:32}</offheap>
        </resources>
    </cache>

</config>
```
# ---------------------------------------------------------------------------
# CommerceSphere Enterprise Suite: Development Environment Configuration
# ---------------------------------------------------------------------------
# This properties file bootstraps the Spring Boot monolith in developer mode.
# It focuses on visibility and fast feedback â€” SQL is echoed to the console,
# logs are verbose, and external integrations point to sandbox endpoints.
# ---------------------------------------------------------------------------

##############################
# Server
##############################
spring.profiles.active=dev
server.port=8080
server.servlet.context-path=/commerce

##############################
# DataSource (PostgreSQL via HikariCP)
##############################
spring.datasource.url=jdbc:postgresql://localhost:5432/commerce_dev
spring.datasource.username=commerce_user
spring.datasource.password=commerce_pass
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP tuning for local workstation
spring.datasource.hikari.pool-name=CommerceHikariCP
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.connection-timeout=30000

##############################
# JPA / Hibernate
##############################
spring.jpa.hibernate.ddl-auto=validate        # Protect schema integrity
spring.jpa.show-sql=true                      # Echo SQL for debugging
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.generate_statistics=false

##############################
# Caching
##############################
spring.cache.type=simple                      # In-memory, no external server

##############################
# Logging
##############################
logging.level.root=INFO
logging.level.com.commercesphere=DEBUG        # Application package
logging.file.name=logs/commerce-dev.log

# Console pattern with color highlighting
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %highlight(%-5level) [%thread] %cyan(%logger{36}) : %msg%n
# File pattern (millisecond precision, more detail)
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level [%thread] %logger{36} - %msg%n

##############################
# Security / JWT
##############################
security.jwt.secret=dev-super-secret-key-change-me
security.jwt.expiration-in-ms=3600000         # 1 hour

##############################
# E-mail (Local MailHog / GreenMail)
##############################
spring.mail.host=localhost
spring.mail.port=1025
spring.mail.username=dev
spring.mail.password=dev
spring.mail.properties.mail.smtp.auth=false
spring.mail.properties.mail.smtp.starttls.enable=false

##############################
# Local File Storage
##############################
storage.local.base-path=/var/commerce/dev/uploads

##############################
# Payment Gateways (Sandbox)
##############################
payments.stripe.api-key=sk_test_51LDEVChangeMe
payments.paypal.mode=sandbox
payments.paypal.client-id=devClientId
payments.paypal.client-secret=devClientSecret

##############################
# Actuator
##############################
management.endpoints.web.exposure.include=health,info,metrics,env,loggers
management.endpoint.health.show-details=always
management.server.port=8081

##############################
# Custom Platform Flags
##############################
feature.promotions.enabled=true
feature.new-tax-engine.enabled=false
commerce.audit.enabled=true
commerce.audit.log-dir=logs/audit

##############################
# CORS
##############################
cors.allowed-origins=http://localhost:3000
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*

##############################
# Rate Limiting (Bucket4J starter)
##############################
ratelimit.enabled=true
ratelimit.requests-per-minute=120

##############################
# Internationalization
##############################
spring.messages.basename=i18n/messages
spring.messages.encoding=UTF-8
spring.messages.fallback-to-system-locale=false

##############################
# Misc
##############################
# Define the default timezone for JVM & database interactions
app.default-timezone=UTC

# Prevent accidental e-mail delivery to real customers
app.email.safemode=true

# End of file

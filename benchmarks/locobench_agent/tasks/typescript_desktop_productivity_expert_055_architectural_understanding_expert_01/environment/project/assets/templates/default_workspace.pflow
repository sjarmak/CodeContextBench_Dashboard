```typescript
/**
 * PaletteFlow Studio ‚Äì Default Workspace Template
 * ------------------------------------------------
 * This file ships with the desktop bundle and is loaded the very first time a
 * user launches PaletteFlow Studio.  It expresses a ready-made ‚Äúflow‚Äù that
 * showcases the main concepts (Markdown node, To-Do board, Sketch canvas, etc.)
 * and is also consumed by the built-in Help ‚Üí ‚ÄúReset to Factory Workspace‚Äù
 * command.
 *
 * Even though this file lives under /assets/templates, it is compiled as normal
 * TypeScript in order to leverage strong typing, the domain model, and helper
 * utilities (e.g. UUID generation).  During packaging the compiler inlines the
 * exported JSON payload into the asset bundle, so no runtime cost is added.
 */

import { v4 as uuid } from 'uuid';

import {
  Workspace,
  Canvas,
  NodeEntity,
  LinkEntity,
  Theme,
  SerializedWorkspace,
} from '../../core/domain';
import { TemplateRegistry } from '../../core/registry/template-registry';

const TEMPLATE_ID = 'pf.default.workspace';

/**
 * Helper ‚Äî Constructs a domain Node with sensible defaults.
 */
function createNode(
  partial: Partial<Omit<NodeEntity, 'id' | 'createdAt' | 'updatedAt'>>,
): NodeEntity {
  const timestamp = Date.now();
  return {
    id: uuid(),
    createdAt: timestamp,
    updatedAt: timestamp,
    x: 0,
    y: 0,
    rotation: 0,
    scale: 1,
    meta: {},
    ...partial,
  } as NodeEntity;
}

/**
 * Helper ‚Äî Connects two nodes with a semantic link.
 */
function linkNodes(
  from: NodeEntity,
  to: NodeEntity,
  label: string,
  style: LinkEntity['style'] = 'curved',
): LinkEntity {
  return {
    id: uuid(),
    from: from.id,
    to: to.id,
    label,
    style,
    meta: {
      color: '#aaa',
    },
  };
}

/**
 * Theme used by the default workspace.  Users may override it later.
 */
const daylightTheme: Theme = {
  id: 'theme.daylight',
  label: 'Daylight',
  palette: {
    background: '#fbfbfb',
    nodeBorder: '#c7c7c7',
    nodeBackground: '#ffffff',
    link: '#3a86ff',
    textPrimary: '#222222',
    textSecondary: '#666666',
  },
};

/**
 * Assemble nodes
 */
const welcomeNode = createNode({
  type: 'markdown',
  x: 40,
  y: 20,
  width: 320,
  height: 220,
  payload: {
    markdown: `# üëã Welcome to PaletteFlow

PaletteFlow lets you _think in shapes_:
- Drop **Markdown**, **sketches**, code, anything  
- Drag to connect thoughts together  
- Hit **Cmd/Ctrl + /** to open the command palette  
- Double-click empty canvas to add a node  

Happy exploring!`,
  },
});

const todoNode = createNode({
  type: 'kanban',
  x: 480,
  y: 30,
  width: 380,
  height: 260,
  payload: {
    columns: [
      {
        id: uuid(),
        label: 'Todo',
        cards: [
          { id: uuid(), text: 'Draw your first sketch ‚úèÔ∏è' },
          { id: uuid(), text: 'Connect nodes together üîó' },
        ],
      },
      {
        id: uuid(),
        label: 'Done',
        cards: [{ id: uuid(), text: 'Read the welcome note ‚úÖ' }],
      },
    ],
  },
});

const sketchNode = createNode({
  type: 'sketch',
  x: 220,
  y: 330,
  width: 420,
  height: 280,
  payload: {
    strokes: [],
    background: 'grid',
  },
});

const docLink = linkNodes(welcomeNode, todoNode, 'Next ‚Üí');
const sketchLink = linkNodes(todoNode, sketchNode, 'Try drawing');

/**
 * Canvas & Workspace composition
 */
const canvas: Canvas = {
  id: uuid(),
  name: 'Main',
  nodes: [welcomeNode, todoNode, sketchNode],
  links: [docLink, sketchLink],
  createdAt: Date.now(),
  updatedAt: Date.now(),
  meta: {
    camera: {
      x: 0,
      y: 0,
      zoom: 1,
    },
  },
};

export const defaultWorkspace: Workspace = {
  id: uuid(),
  label: 'Untitled Flow',
  canvases: [canvas],
  activeCanvasId: canvas.id,
  themeId: daylightTheme.id,
  plugins: [],
  createdAt: Date.now(),
  updatedAt: Date.now(),
};

/**
 * Serialized ‚Äúbinary‚Äù form shipped to the runtime.
 * Leveraging a typed object guarantees compilation catches domain mismatches.
 */
export const serializedDefaultWorkspace: SerializedWorkspace = {
  meta: {
    templateId: TEMPLATE_ID,
    version: 1,
    minAppVersion: '1.0.0',
  },
  workspace: defaultWorkspace,
  assets: {
    themes: [daylightTheme],
  },
};

/**
 * Registers the default workspace with the global template registry.
 * This lets other layers (CLI, plugin SDK, onboarding wizard) query for it.
 *
 * If the template is already present, it will be skipped.  We intentionally
 * do not throw because repeated bundling phases might load this file twice
 * (e.g. electron-main + renderer preload).
 */
export function registerDefaultTemplate(registry: TemplateRegistry): void {
  try {
    registry.registerTemplate(
      TEMPLATE_ID,
      serializedDefaultWorkspace.meta.version,
      serializedDefaultWorkspace,
    );
    // eslint-disable-next-line no-console
    console.info('[PaletteFlow] Default workspace template registered.');
  } catch (err) {
    if (err instanceof Error && /already exists/i.test(err.message)) {
      // benign, ignore
      return;
    }
    // Re-throw unexpected errors ‚Äì they could indicate corruption.
    throw err;
  }
}
```
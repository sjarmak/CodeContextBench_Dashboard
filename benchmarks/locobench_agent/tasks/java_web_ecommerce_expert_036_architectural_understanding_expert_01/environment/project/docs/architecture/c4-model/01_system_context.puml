@startuml SystemContextDiagram
' -------------------------------------------------------------------------------------------------
' C4 Model - System Context for SprintCart Pro â€“ Hyper-Productive E-Commerce Workbench
' File: docs/architecture/c4-model/01_system_context.puml
' -------------------------------------------------------------------------------------------------
' Uses C4-PlantUML (https://github.com/plantuml-stdlib/C4-PlantUML)
!define C4P https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/v1.0.0
!includeurl C4P/C4_Context.puml

' ----- Styling -----------------------------------------------------------------------------------
LAYOUT_WITH_LEGEND()
SHOW_PERSON_BORDER(false)
' Palette ------------------------------------------------------------------
Person(customer, "Shopper", "End-customer who purchases products on the storefront")
Person(merchant, "Merchant Operator", "Power-user that manages catalog, orders,\nand productivity automations via the workbench UI")
Person(admin, "Platform Admin", "SprintCart Pro Ops team member\nresponsible for infrastructure & support")
System_Boundary(scp, "SprintCart Pro") {
    System(sprintcart, "SprintCart Pro", "Hyper-Productive e-commerce platform enabling\nworkflow-oriented operations for merchants")
}

' External Systems ---------------------------------------------------------
System_Ext(payment, "Payment Gateways", "Stripe / Adyen / PayPal etc.")
System_Ext(emailSms, "Email & SMS Providers", "SendGrid, Twilio")
System_Ext(erp, "Third-Party ERPs", "SAP, NetSuite, Odoo")
System_Ext(ads, "Ad Platforms", "Meta Ads, Google Ads")
System_Ext(warehouse, "3PL / Warehouse API", "ShipBob, ShipStation")

' Relationships ------------------------------------------------------------
Rel(customer, sprintcart, "Browses & places orders", "HTTPS / Responsive Vue SPA")
Rel(sprintcart, customer, "Order status updates, receipts", "Email / SMS / Push")

Rel(merchant, sprintcart, "Manages catalog, orders, automations", "HTTPS / Vue SPA (keyboard-first)")
Rel(merchant, sprintcart, "Receives productivity nudges", "WebSocket / Push")

Rel(admin, sprintcart, "Monitors health, configures tenants", "Admin UI / Kubernetes Ops")

Rel(sprintcart, payment, "Captures payments, refunds", "PCI-compliant REST")
Rel(sprintcart, emailSms, "Sends transactional & marketing messages", "SMTP / REST API")
Rel(sprintcart, erp, "Syncs inventory & financials", "REST / Webhooks")
Rel(sprintcart, ads, "Pauses/Resumes ad campaigns\nbased on stock levels", "OAuth2 REST")
Rel(sprintcart, warehouse, "Creates shipments, fetches tracking", "REST / Webhooks")

' Legends & Tags -----------------------------------------------------------
' Tag styles (internal vs external)
AddRelStyle("internal", "#2E7D32", "#2E7D32", "solid", "arrow")
AddRelStyle("external", "#1565C0", "#1565C0", "dotted", "arrow")

' Apply styles
UpdateRel(sprintcart, payment, $style="external")
UpdateRel(sprintcart, emailSms, $style="external")
UpdateRel(sprintcart, erp, $style="external")
UpdateRel(sprintcart, ads, $style="external")
UpdateRel(sprintcart, warehouse, $style="external")
UpdateRel(customer, sprintcart, $style="internal")
UpdateRel(sprintcart, customer, $style="internal")
UpdateRel(merchant, sprintcart, $style="internal")
UpdateRel(merchant, sprintcart, $style="internal")
UpdateRel(admin, sprintcart, $style="internal")

' Footer -------------------------------------------------------------------
SHOW_LEGEND()
@enduml
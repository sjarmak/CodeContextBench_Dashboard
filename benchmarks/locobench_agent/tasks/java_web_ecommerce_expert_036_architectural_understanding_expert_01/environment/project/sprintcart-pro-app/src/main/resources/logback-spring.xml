```xml
<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ SprintCart Pro – Hyper-Productive E-Commerce Workbench
  ~ -----------------------------------------------------------------------
  ~ Central Logback configuration.
  ~
  ~  • Multi-profile support (dev | prod | test)
  ~  • Colorized console output for local development
  ~  • Rolling file appenders with size- and time-based policies
  ~  • Optional Logstash encoder for centralized logging
  ~  • Separate stack-trace log for easier troubleshooting
  ~
  ~  This file is picked up automatically by Spring Boot when placed under
  ~  src/main/resources as `logback-spring.xml`.
  -->
<configuration scan="true" scanPeriod="30 seconds"
               xmlns:spring="http://www.springframework.org/schema/beans">

    <!-- ------------------------------------------------------------------
         Property placeholders
         ------------------------------------------------------------------ -->
    <!-- Log folder can be overridden via:  -DLOG_PATH=/some/dir -->
    <springProperty scope="context" name="LOG_PATH" source="LOG_PATH" defaultValue="logs"/>
    <!-- Application name from Spring`s `spring.application.name` -->
    <springProperty scope="context" name="APP_NAME" source="spring.application.name" defaultValue="sprintcart-pro"/>

    <timestamp key="DATE" datePattern="yyyyMMdd"/>

    <!-- ------------------------------------------------------------------
         Pattern definitions
         ------------------------------------------------------------------ -->
    <property name="CONSOLE_PATTERN"
              value="%clr(%d{HH:mm:ss.SSS}){faint} %clr([%thread]){faint} %clr(%-5level) %clr(%logger{36}){cyan}: %msg%n%wEx"/>
    <property name="FILE_PATTERN"
              value="%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"/>
    <property name="LOGSTASH_PATTERN"
              value="{&quot;timestamp&quot;:&quot;%date{ISO8601}&quot;,&quot;level&quot;:&quot;%level&quot;,&quot;thread&quot;:&quot;%thread&quot;,&quot;logger&quot;:&quot;%logger{36}&quot;,&quot;message&quot;:&quot;%msg&quot;,%n&quot;stacktrace&quot;:&quot;%ex{full}&quot;}"/>

    <!-- ------------------------------------------------------------------
         Appenders
         ------------------------------------------------------------------ -->

    <!-- 1. Console: colorized output during local development -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>${CONSOLE_PATTERN}</pattern>
            <charset>UTF-8</charset>
        </encoder>
    </appender>

    <!-- 2. Rolling file: daily rollover or when file > 50 MB -->
    <appender name="FILE"
              class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_PATH}/${APP_NAME}.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <!-- Rotate daily and keep 30 days -->
            <fileNamePattern>${LOG_PATH}/archive/${APP_NAME}-%d{yyyy-MM-dd}.%i.log</fileNamePattern>
            <maxHistory>30</maxHistory>
            <timeBasedFileNamingAndTriggeringPolicy
                    class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                <maxFileSize>50MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>
        </rollingPolicy>
        <encoder>
            <pattern>${FILE_PATTERN}</pattern>
            <charset>UTF-8</charset>
        </encoder>
    </appender>

    <!-- 3. Stacktrace file: capture full stack traces exclusively -->
    <appender name="STACKTRACE"
              class="ch.qos.logback.core.FileAppender">
        <file>${LOG_PATH}/${APP_NAME}-stacktrace.log</file>
        <append>true</append>
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %logger{36} - %msg%n%wEx</pattern>
            <charset>UTF-8</charset>
        </encoder>
    </appender>

    <!-- 4. Logstash: send JSON logs over TCP; enabled only in the 'prod' profile -->
    <springProfile name="prod">
        <appender name="LOGSTASH"
                  class="net.logstash.logback.appender.LogstashTcpSocketAppender">
            <!-- Logstash host & port can be overridden via env vars -->
            <destination>${LOGSTASH_HOST:-localhost}:${LOGSTASH_PORT:-5000}</destination>
            <encoder class="net.logstash.logback.encoder.LogstashEncoder">
                <customFields>{"app_name":"${APP_NAME}"}</customFields>
            </encoder>
            <!-- Reconnect with backoff -->
            <keepAliveDuration>5 minutes</keepAliveDuration>
            <shutdownGracePeriod>30 seconds</shutdownGracePeriod>
        </appender>
    </springProfile>

    <!-- ------------------------------------------------------------------
         Logger Definitions
         ------------------------------------------------------------------ -->

    <!-- Hibernate tends to be chatty -->
    <logger name="org.hibernate.SQL" level="WARN"/>
    <logger name="org.hibernate.type.descriptor.sql" level="WARN"/>
    <!-- Spring framework -->
    <logger name="org.springframework" level="INFO"/>
    <!-- Reduce noise from AWS / Azure SDKs when present -->
    <logger name="com.amazonaws" level="WARN"/>
    <logger name="com.azure" level="WARN"/>
    <!-- Custom domain loggers (example) -->
    <logger name="com.sprintcartpro.domain" level="INFO"/>
    <logger name="com.sprintcartpro.infrastructure" level="DEBUG"/>

    <!-- Stacktrace rule: anything logged to LOG_STACKTRACE goes here -->
    <logger name="LOG_STACKTRACE" level="ERROR" additivity="false">
        <appender-ref ref="STACKTRACE"/>
    </logger>

    <!-- ------------------------------------------------------------------
         Root Loggers per profile
         ------------------------------------------------------------------ -->

    <!-- Default root (shared across all profiles) -->
    <root level="INFO">
        <appender-ref ref="CONSOLE"/>
        <appender-ref ref="FILE"/>
    </root>

    <!-- Augment root logging in production with Logstash -->
    <springProfile name="prod">
        <root level="INFO">
            <appender-ref ref="CONSOLE"/>
            <appender-ref ref="FILE"/>
            <appender-ref ref="LOGSTASH"/>
        </root>
    </springProfile>

    <!-- More verbose console for development -->
    <springProfile name="dev">
        <root level="DEBUG">
            <appender-ref ref="CONSOLE"/>
            <appender-ref ref="FILE"/>
        </root>
    </springProfile>

    <!-- Quiet mode for integration tests -->
    <springProfile name="test">
        <root level="WARN">
            <appender-ref ref="CONSOLE"/>
        </root>
    </springProfile>

</configuration>
```
```yaml
#
# ======================================================================
#  SprintCart Pro â€“ Production Configuration
#  File: application-prod.yml
#
#  NOTE: All sensitive settings should be provided via environment
#  variables or an external secrets manager (e.g., Vault, AWS Secrets
#  Manager). Default values below are safe fall-backs for containerized
#  deployments and should be overridden in real environments.
# ======================================================================
#

# ----------------------------------------------------------------------
# 1. Spring Boot Core
# ----------------------------------------------------------------------
spring:
  profiles:
    active: prod

  # --------------------------------------------------------------------
  # 1.1  Database & JPA
  # --------------------------------------------------------------------
  datasource:
    url: jdbc:postgresql://${DB_HOST:sc-prod-db}:${DB_PORT:5432}/sprintcart_pro
    username: ${DB_USER}
    password: ${DB_PASSWORD}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 30
      minimum-idle: 10
      connection-timeout: 30000         # 30s
      idle-timeout: 600000              # 10m
      max-lifetime: 1800000             # 30m

  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        format_sql: false
        jdbc:
          batch_size: 100
          time_zone: UTC
        order_inserts: true
        order_updates: true
    show-sql: false

  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:/db/migration,classpath:/db/data

  jackson:
    serialization:
      WRITE_DATES_AS_TIMESTAMPS: false
    time-zone: UTC

# ----------------------------------------------------------------------
# 2. Server
# ----------------------------------------------------------------------
server:
  port: 8443
  servlet:
    context-path: /api
  compression:
    enabled: true
    min-response-size: 1024
    mime-types: |
      application/json,application/xml,text/html,text/xml,
      text/plain,application/javascript,text/css,application/font-woff2
  ssl:
    enabled: true
    key-store: classpath:keystore/keystore.p12
    key-store-password: ${SSL_KEY_STORE_PASSWORD}
    key-store-type: PKCS12
    key-alias: sprintcart-pro

# ----------------------------------------------------------------------
# 3. Observability
# ----------------------------------------------------------------------
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: never
  metrics:
    export:
      prometheus:
        enabled: true
  server:
    port: 9042

logging:
  level:
    root: INFO
    com.sprintcartpro: DEBUG
    org.springframework.web: INFO
    org.springframework.security: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} %-5level [%X{traceId}] %logger - %msg%n"
  file:
    name: /var/log/sprintcart-pro/application.log
  logback:
    rollingpolicy:
      max-history: 30
      total-size-cap: 1GB

# ----------------------------------------------------------------------
# 4. Security
# ----------------------------------------------------------------------
security:
  jwt:
    secret: ${JWT_SECRET}
    issuer: sprintcart-pro
    expiration-minutes: 60

rate-limiter:
  redis:
    enabled: true
    replenish-rate: 60   # requests / second
    burst-capacity: 120  # max tokens

# ----------------------------------------------------------------------
# 5. Application-Specific Settings
# ----------------------------------------------------------------------
application:
  cdn:
    base-url: https://cdn.sprintcart.com
  ui:
    url: https://app.sprintcart.com

  # --- 5.1 File Storage ------------------------------------------------
  file-storage:
    provider: s3
    s3:
      bucket: sprintcart-prod-assets
      region: us-east-1
      access-key: ${AWS_ACCESS_KEY_ID}
      secret-key: ${AWS_SECRET_ACCESS_KEY}

  # --- 5.2 Feature Flags ----------------------------------------------
  features:
    bulk-edit:
      enabled: true
    automation-studio:
      enabled: true
    analytics:
      realtime:
        enabled: true
        refresh-interval: 3s

# ----------------------------------------------------------------------
# 6. Email & Notifications
# ----------------------------------------------------------------------
mail:
  host: email-smtp.us-east-1.amazonaws.com
  port: 587
  username: ${SES_SMTP_USERNAME}
  password: ${SES_SMTP_PASSWORD}
  protocol: smtp
  properties:
    mail:
      smtp:
        auth: true
        starttls:
          enable: true
        connectiontimeout: 5000
        timeout: 5000
        writetimeout: 5000
  default-from: no-reply@sprintcart.com
  reply-to: support@sprintcart.com
  templates-path: classpath:/mail/templates

notifications:
  email:
    enabled: true
    throttle:
      per-minute: 120
  sms:
    enabled: true
    provider: twilio
    twilio:
      account-sid: ${TWILIO_ACCOUNT_SID}
      auth-token: ${TWILIO_AUTH_TOKEN}
      from-number: +15555551234

# ----------------------------------------------------------------------
# 7. Caching
# ----------------------------------------------------------------------
cache:
  type: caffeine
  caffeine:
    spec: maximumSize=5000,expireAfterWrite=10m

  redis:
    host: ${REDIS_HOST:sc-prod-redis}
    port: 6379
    timeout: 2000
    password: ${REDIS_PASSWORD}

# ----------------------------------------------------------------------
# 8. Messaging & Streaming
# ----------------------------------------------------------------------
kafka:
  bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:sc-prod-kafka:9092}
  consumer:
    group-id: sprintcart-pro
    auto-offset-reset: earliest
    enable-auto-commit: false
  producer:
    acks: all
    retries: 3
    properties:
      linger.ms: 5

queues:
  catalog-updates:
    type: kafka
    topic: sc.catalog-updates.v1
  task-automation:
    type: kafka
    topic: sc.task-automation.v1

# ----------------------------------------------------------------------
# 9. Third-Party Integrations
# ----------------------------------------------------------------------
third-party:
  payment:
    stripe:
      api-key: ${STRIPE_API_KEY}
      webhook-secret: ${STRIPE_WEBHOOK_SECRET}
  erp:
    odoo:
      base-url: https://erp.sprintcart.com
      token: ${ODOO_API_TOKEN}

integration:
  retry:
    max-attempts: 3
    backoff:
      delay: 200          # ms
      multiplier: 2.0
      max-delay: 5000     # ms

# ----------------------------------------------------------------------
# 10. Validation
# ----------------------------------------------------------------------
validation:
  fail-fast: true

# ----------------------------------------------------------------------
# 11. File Uploads
# ----------------------------------------------------------------------
file:
  upload:
    max-size: 25MB
    image:
      max-width: 4000
      max-height: 4000
    tmp-dir: /tmp/sprintcart/uploads

# ----------------------------------------------------------------------
# 12. GraphQL
# ----------------------------------------------------------------------
graphql:
  servlet:
    mapping: /graphql
    enabled: true
  playground:
    enabled: false
```
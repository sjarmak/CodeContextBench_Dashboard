```toml
[package]
name          = "api_gateway"
description   = "HTTP/WS gateway for CanvasChain Symphony routing external requests to the internal gRPC micro-services mesh."
version       = "0.4.3"
edition       = "2021"
license       = "Apache-2.0"
authors       = ["CanvasChain Core Dev Team <dev@canvaschain.io>"]
repository    = "https://github.com/canvaschain/canvaschain"
keywords      = ["blockchain", "NFT", "microservices", "gateway", "grpc"]
readme        = "README.md"
rust-version  = "1.71"

###############################################################################
# Dependencies
###############################################################################
[dependencies]
# Async runtime & web stack
tokio                 = { version = "1.36", features = ["full"] }
axum                  = { version = "0.7",  features = ["macros", "json", "ws"] }
tower                 = "0.4"
tower-http            = { version = "0.5", features = ["cors", "trace", "compression-full"] }
hyper                 = { version = "0.14", features = ["http2", "server"] }

# gRPC / protobuf
tonic                 = { version = "0.11", features = ["transport", "tls"] }
prost                 = "0.12"

# Serde & utils
serde                 = { version = "1.0",  features = ["derive"] }
serde_json            = "1.0"
serde_repr            = "0.1"
serde_with            = "3.4"
uuid                  = { version = "1.6",  features = ["v4", "serde"] }
chrono                = { version = "0.4",  features = ["serde"] }
dashmap               = "5.5"
parking_lot           = "0.12"
async-trait           = "0.1"
derive_more           = "0.99"
config                = "0.14"
dotenvy               = "0.15"

# Error handling & cryptography
anyhow                = "1.0"
thiserror             = "1.0"
ring                  = "0.17"
jsonwebtoken          = { version = "9.2", default-features = false, features = ["serde", "v4"] }

# Observability
tracing               = "0.1"
tracing-subscriber    = { version = "0.3", features = ["env-filter", "json"] }
tracing-opentelemetry = "0.22"
opentelemetry         = { version = "0.22", features = ["rt-tokio"] }
opentelemetry-otlp    = { version = "0.15", features = ["tonic", "grpc-tonic"] }

# Optional cryptography / finance crates
bip39                 = { version = "2.0",  optional = true }
secp256k1             = { version = "0.29", features = ["serde"], optional = true }
blst                  = { version = "0.3",  optional = true }
sqlx                  = { version = "0.7",  default-features = false, features = [
                            "runtime-tokio-rustls",
                            "macros",
                            "postgres",
                            "uuid",
                            "json"
                         ], optional = true }

###############################################################################
# Code generation
###############################################################################
[build-dependencies]
tonic-build           = "0.11"
prost-build           = "0.12"

###############################################################################
# Feature flags
###############################################################################
[features]
default           = ["wallet_integration", "governance", "token_management"]

# Modular capability gates
wallet_integration = ["bip39", "secp256k1"]
governance         = ["blst"]
token_management   = []
defi_protocols     = []
smart_contracts    = []

# One-stop shop
full               = [
    "wallet_integration",
    "governance",
    "token_management",
    "defi_protocols",
    "smart_contracts",
    "sqlx"
]

###############################################################################
# Release profile â€“ tuned for small binaries & fast start-up
###############################################################################
[profile.release]
lto             = "fat"
codegen-units   = 1
opt-level       = "z"
panic           = "abort"
strip           = "symbols"
```
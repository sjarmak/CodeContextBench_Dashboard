```xml
<Project Sdk="Microsoft.NET.Sdk">

  <!-- =========================================================
       PaletteStream.Shared.Messaging.csproj
       Purpose : Shared messaging abstraction used by both
                 batch- and stream-oriented ETL pipelines.
       ========================================================= -->

  <PropertyGroup>
    <!-- Target the latest LTS framework for maximum feature set -->
    <TargetFramework>net8.0</TargetFramework>

    <!-- Enable modern language features & strict nullability -->
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
    <LangVersion>latest</LangVersion>

    <!-- Deterministic builds improve reproducibility in CI -->
    <Deterministic>true</Deterministic>

    <!-- Generate XML docs for downstream consumers -->
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
  </PropertyGroup>

  <!-- ---------------------------------------------------------
       Runtime & infrastructure dependencies
       --------------------------------------------------------- -->
  <ItemGroup>
    <!-- Kafka client for high-throughput stream ingestion -->
    <PackageReference Include="Confluent.Kafka" Version="2.4.0" />

    <!-- Azure Event Hubs for cloud-native streaming scenarios -->
    <PackageReference Include="Azure.Messaging.EventHubs" Version="5.9.0" />

    <!-- Identity plumbing for Key Vault / MSI -->
    <PackageReference Include="Azure.Identity" Version="1.10.2" />

    <!-- Channel-based back-pressure and bounded queues -->
    <PackageReference Include="System.Threading.Channels" Version="8.0.0" />

    <!-- Resiliency / transient-fault handling -->
    <PackageReference Include="Polly" Version="7.2.3" />

    <!-- Structured logging -->
    <PackageReference Include="Serilog" Version="3.1.0" />
    <PackageReference Include="Serilog.Extensions.Logging" Version="3.1.0" />
    <PackageReference Include="Serilog.Sinks.Console" Version="5.1.0" />

    <!-- Configuration & DI primitives -->
    <PackageReference Include="Microsoft.Extensions.Logging" Version="8.0.0" />
    <PackageReference Include="Microsoft.Extensions.Options.ConfigurationExtensions" Version="8.0.0" />
  </ItemGroup>

  <!-- ---------------------------------------------------------
       Test-only dependencies (compile-time only for this project
       type="test" â€“ the build pipeline will mark this as 
       test asset in solution).
       --------------------------------------------------------- -->
  <ItemGroup>
    <PackageReference Include="Microsoft.NET.Test.Sdk" Version="17.9.0" PrivateAssets="all" />
    <PackageReference Include="xunit" Version="2.6.1" PrivateAssets="all" />
    <PackageReference Include="xunit.runner.visualstudio" Version="2.6.1" PrivateAssets="all" />
    <PackageReference Include="FluentAssertions" Version="6.13.0" PrivateAssets="all" />
    <PackageReference Include="Moq" Version="4.20.92" PrivateAssets="all" />
  </ItemGroup>

  <!-- ---------------------------------------------------------
       Internal library references
       --------------------------------------------------------- -->
  <ItemGroup>
    <!-- Common infrastructure helpers (logging, configs, etc.) -->
    <ProjectReference Include="..\..\Infrastructure\PaletteStream.Infrastructure.Common\PaletteStream.Infrastructure.Common.csproj" />
  </ItemGroup>

  <!-- ---------------------------------------------------------
       Static code analysis & quality gates
       --------------------------------------------------------- -->
  <PropertyGroup Condition="'$(CI)' == 'true'">
    <ContinuousIntegrationBuild>true</ContinuousIntegrationBuild>
    <!-- Treat all warnings as errors in CI to fail fast -->
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
  </PropertyGroup>

  <!-- ---------------------------------------------------------
       Code-style verification: run `dotnet format` before build
       --------------------------------------------------------- -->
  <Target Name="VerifyCodeFormat" BeforeTargets="Build">
    <Exec Command="dotnet format --verify-no-changes" ContinueOnError="true">
      <Output TaskParameter="ExitCode" PropertyName="FormatExitCode" />
    </Exec>
    <Error Condition="'$(FormatExitCode)' != '0'"
           Text="Code style violations detected. Run 'dotnet format' to fix." />
  </Target>

  <!-- ---------------------------------------------------------
       Import any solution-level build customization
       --------------------------------------------------------- -->
  <Import Project="Directory.Build.props" Condition="Exists('Directory.Build.props')" />
  <Import Project="Directory.Build.targets" Condition="Exists('Directory.Build.targets')" />

</Project>
```
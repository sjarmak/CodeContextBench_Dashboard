```yaml
##############################################################################################################
#  OpsForge Utility Nexus – API Gateway
#
#  This bootstrap configuration is loaded first by Spring Boot and is primarily responsible for:
#     1. Identifying the application within the distributed system.
#     2. Wiring the instance to Spring Cloud Config for centralized configuration.
#     3. Declaring global infrastructure concerns (logging, tracing, metrics, rate-limiting, etc.).
#     4. Defining core Spring Cloud Gateway behaviour (routes, filters, circuit-breakers, retries, caching).
#
#  NOTE: Service-specific properties that change per-environment (e.g., dev, staging, prod) are externalised
#        in the Config Server and should NOT be duplicated here.
##############################################################################################################

spring:
  application:
    name: opsforge-utility-gateway              # Unique ID used for service-discovery & metrics

  ##########################################################################################################
  # Spring Cloud Config – points the Gateway at the central configuration server.
  ##########################################################################################################
  cloud:
    config:
      name: opsforge-utility-gateway,opsforge-common   # Comma-separated list of config profiles to fetch
      discovery:                                       # Use service-discovery instead of raw URL
        enabled: true
        service-id: OPSFORGE-CONFIG-SERVER
      fail-fast: true                                  # Crash fast if config cannot be loaded
      retry:
        max-attempts: 5
        max-interval: 8000
        multiplier: 1.5

    ########################################################################################################
    # Spring Cloud Gateway – intelligent routing, resilience, & edge-concerns.
    ########################################################################################################
    gateway:
      httpclient:
        connect-timeout: 5000                          # ms
        response-timeout: 20s                          # Gateway aborts requests after 20 seconds
      default-filters:
        # Remove duplicate CORS headers that may appear when downstream services also handle CORS.
        - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials, RETAIN_FIRST

        # Automatic retries for transient server errors.
        - name: Retry
          args:
            retries: 3
            statuses: BAD_GATEWAY, SERVICE_UNAVAILABLE, GATEWAY_TIMEOUT
            series: SERVER_ERROR

        # Token-bucket rate limiting backed by Redis.
        - name: RequestRateLimiter
          args:
            redis-rate-limiter.replenishRate: 50       # tokens per second
            redis-rate-limiter.burstCapacity: 100
            redis-rate-limiter.requestedTokens: 1

        # Local in-memory response caching (custom filter implementation).
        - name: CacheResponse
          args:
            ttl: 60                                    # seconds
            capacity: 10000                            # max cached entries

      ######################################################################################################
      # Declarative Route Definitions
      ######################################################################################################
      routes:
        - id: format-conversion-service
          uri: lb://FORMAT-CONVERSION-SERVICE
          predicates:
            - Path=/v1/convert/**
          filters:
            - name: CircuitBreaker
              args:
                name: formatConversionCB
                fallbackUri: forward:/fallback/convert

        - id: anonymization-service
          uri: lb://ANONYMIZATION-SERVICE
          predicates:
            - Path=/v1/anonymize/**
          filters:
            - name: CircuitBreaker
              args:
                name: anonymizationCB
                fallbackUri: forward:/fallback/anonymize

        - id: scheduling-service
          uri: lb://SCHEDULING-SERVICE
          predicates:
            - Path=/v1/schedule/**

        - id: checksum-service
          uri: lb://CHECKSUM-SERVICE
          predicates:
            - Path=/v1/checksum/**

        - id: text-transform-service
          uri: lb://TEXT-TRANSFORM-SERVICE
          predicates:
            - Path=/v1/transform/**

        # GraphQL endpoint aggregation
        - id: graphql-aggregate
          uri: lb://GRAPHQL-AGGREGATE
          predicates:
            - Path=/graphql, /graphiql

  ##########################################################################################################
  # Redis – used for rate-limiting tokens & response caching. Values can be overridden via environment vars.
  ##########################################################################################################
  redis:
    host: ${REDIS_HOST:redis}
    port: 6379
    timeout: 10000                                     # ms

############################################################################################################
# Embedded HTTP Server
############################################################################################################
server:
  port: 8080
  servlet:
    context-path: /api

############################################################################################################
# Observability – Actuator, Metrics, Tracing
############################################################################################################
management:
  endpoints:
    web:
      exposure:
        include: "health,info,prometheus,metrics,loggers,env,threaddump"
  endpoint:
    health:
      probes:
        enabled: true
      show-details: when_authorized
  metrics:
    export:
      prometheus:
        enabled: true
    tags:
      application: ${spring.application.name}

tracing:
  sampling:
    probability: 1.0                                   # 100 % sampling for now; tune in production

############################################################################################################
# Resilience4j – shared defaults for retries & circuit-breakers.
############################################################################################################
resilience4j:
  circuitbreaker:
    configs:
      default:
        slidingWindowSize: 50
        minimumNumberOfCalls: 10
        permittedNumberOfCallsInHalfOpenState: 5
        waitDurationInOpenState: 30s
        failureRateThreshold: 50
  retry:
    configs:
      default:
        maxRetryAttempts: 3
        waitDuration: 2s

############################################################################################################
# Logging – colourised console pattern & module-specific log levels.
############################################################################################################
logging:
  level:
    root: INFO
    org.springframework.cloud.gateway: INFO
    com.opsforge: DEBUG
  pattern:
    console: "%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(%5p) %clr([%15.15t]){magenta} %clr(%-40.40logger{39}){cyan} : %m%n"

############################################################################################################
# GraphQL – servlet mapping & optional interactive playground.
############################################################################################################
graphql:
  servlet:
    mapping: /graphql
    enable-websockets: true
  graphiql:
    enabled: true
    endpoint: /graphiql
    page-title: "OpsForge Utility Nexus GraphiQL"

############################################################################################################
# API Documentation – Swagger / OpenAPI.
############################################################################################################
springdoc:
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    enabled: true
    path: /swagger-ui.html

############################################################################################################
# Misc. metadata that is exposed via the Actuator /info endpoint.
############################################################################################################
info:
  system: "OpsForge Utility Nexus – API Gateway"
  description: "Aggregates and routes requests to utility microservices with advanced resilience, caching, and observability."
  version: "1.0.0"
```
```yaml
---
###############################################################################
#  OpsForge Utility Nexus ‒ Data-Anonymizer Service
#
#  Spring Boot “bootstrap.yml” is loaded BEFORE “application.yml” and is
#  therefore the right place for infrastructure configuration such as the
#  Config-Server location, service discovery, and cross-cutting concerns that
#  must be available early in the application life-cycle.
###############################################################################

spring:
  application:
    name: data-anonymizer-service

  profiles:
    default: dev         # unless the JVM/system property “spring.profiles.active” overrides it

  main:
    allow-bean-definition-overriding: true

  cloud:
    config:
      uri: ${CONFIG_SERVER_URL:http://config-server:8888}
      label: main
      fail-fast: true
      retry:
        max-attempts: 6
        initial-interval: 1000           # 1  second
        multiplier: 1.5
        max-interval: 5000               # 5  seconds

  jackson:
    default-property-inclusion: non_null
    serialization:
      write_dates_as_timestamps: false
    property-naming-strategy: SNAKE_CASE

  cache:
    type: redis
    redis:
      time-to-live: 600000               # 10 minutes in milliseconds
      key-prefix: ${spring.application.name}::cache::
    caffeine:
      spec: maximumSize=500,expireAfterAccess=60s

server:
  port: 0                                # Ephemeral — orchestrator maps to a stable service
  servlet:
    context-path: /api/v1
  forward-headers-strategy: framework
  error:
    include-message: always
    include-binding-errors: always
    include-stacktrace: on_param

management:
  endpoints:
    enabled-by-default: true
    web:
      exposure:
        include: health,info,metrics,prometheus,loggers,threaddump
  endpoint:
    health:
      probes:
        enabled: true
  tracing:
    sampling:
      probability: 0.30
  metrics:
    distribution:
      percentiles-histogram:
        http.server.requests: true
    tags:
      application: ${spring.application.name}

logging:
  level:
    root: INFO
    com.opsforge.utility: DEBUG
    org.springframework.web: INFO
  pattern:
    console: "%d{yyyy-MM-dd'T'HH:mm:ss.SSSXXX} | %clr(%5p) | %clr(%-40.40logger{39}) | %m%n"

################################################################################
#  OPSFORGE CUSTOM CONFIGURATION
################################################################################
opsforge:
  versioning:
    header: X-OpsForge-API-Version
    default-version: v1

  graphql:
    schema:
      location: classpath:graphql/schema/**/*.graphqls
    playground:
      enabled: true

  data-anonymizer:
    # Global default strategy when the client does not specify one explicitly
    default-strategy: HASH_SHA256

    strategies:
      HASH_SHA256:
        salt: ${ANONYMIZER_SALT:opsforge-default-salt}

      MASK:
        mask-char: '*'
        unmasked-prefix: 2
        unmasked-suffix: 2

      NULLIFY: { }

    streaming:
      chunk-size: 1000                   # Records processed per chunk/batch

  pagination:
    default-page-size: 50
    max-page-size: 1000
    max-offset: 100000

################################################################################
#  CROSS-CUTTING CONCERNS
################################################################################
resilience4j:
  retry:
    configs:
      default:
        max-attempts: 3
        wait-duration: 500ms

  circuitbreaker:
    configs:
      default:
        failure-rate-threshold: 50
        slow-call-rate-threshold: 50
        sliding-window-type: COUNT_BASED
        sliding-window-size: 100
        minimum-number-of-calls: 10
        wait-duration-in-open-state: 10s
    instances:
      outboundConfigService:
        base-config: default

cors:
  allowed-origins: "*"
  allowed-methods: GET,POST,PUT,DELETE,OPTIONS
  allowed-headers: "*"

################################################################################
#  OBSERVABILITY & TELEMETRY
################################################################################
otel:
  exporter:
    otlp:
      endpoint: ${OTEL_COLLECTOR_URI:http://otel-collector:4317}

################################################################################
#  EXTERNAL DEPENDENCIES (overridable through Config-Server or env vars)
################################################################################
redis:
  host: ${REDIS_HOST:redis-master}
  port: ${REDIS_PORT:6379}
  ttl-seconds: 3600

kafka:
  bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:broker:9092}
  consumer:
    group-id: ${spring.application.name}
    auto-offset-reset: earliest

################################################################################
#  GRAPHQL SERVLET (SPQR / DGS / GraphQL Java Kickstart)
################################################################################
graphql:
  servlet:
    mapping: /graphql
    enabled: true
```
{
  "UtilityChain": {
    "Node": {
      "Network": "consortium-mainnet",
      "NodeId": "uc-node-001",
      "P2P": {
        "ListenAddress": "0.0.0.0",
        "ListenPort": 48080,
        "BootstrapPeers": [
          "node01.consortium.local:48080",
          "node02.consortium.local:48080"
        ],
        "MaxInboundPeers": 125,
        "MaxOutboundPeers": 25,
        "HandshakeTimeoutSeconds": 10,
        "EnableUPnP": false
      },
      "RPC": {
        "Enabled": true,
        "Host": "0.0.0.0",
        "Port": 48081,
        "Username": "rpcuser",
        "Password": "ReplaceWithSecurePassword",
        "AllowedIPs": [ "127.0.0.1", "::1" ]
      },
      "API": {
        "Rest": {
          "Enabled": true,
          "Host": "0.0.0.0",
          "Port": 5000,
          "Cors": {
            "AllowedOrigins": [ "https://wallet.consortium.local" ],
            "AllowAnyHeader": false,
            "AllowAnyMethod": false
          },
          "RateLimiting": {
            "Enabled": true,
            "WindowSeconds": 30,
            "MaxRequests": 100
          }
        },
        "GraphQL": {
          "Enabled": true,
          "Host": "0.0.0.0",
          "Port": 5001
        },
        "gRPC": {
          "Enabled": false
        }
      },
      "Consensus": {
        "Engine": "UtilityChain.Consensus.PoS",
        "BlockTimeSeconds": 5,
        "GenesisTimestamp": "2024-01-01T00:00:00Z",
        "CheckpointInterval": 1000,
        "Difficulty": {
          "Algorithm": "LWMA3",
          "InitialBits": "1e0ffff0",
          "RetargetWindow": 90
        }
      },
      "Staking": {
        "MinimumStake": 1000,
        "MaximumStake": 10000000,
        "RewardPerBlock": 8,
        "MaturityConfirmations": 100,
        "ColdStaking": {
          "Enabled": true,
          "DefaultLockDays": 30
        }
      },
      "Governance": {
        "VotingPeriodDays": 7,
        "QuorumPercentage": 60,
        "ProposalDeposit": 1000,
        "AllowedProposalTypes": [
          "ProtocolUpgrade",
          "TreasuryPayout",
          "ParameterChange"
        ]
      },
      "SmartContract": {
        "Engine": "UtilityChain.SmartContracts.WASM",
        "MaxGasLimit": 8000000,
        "Sandbox": {
          "EnableReflection": false,
          "BlockedAPIs": [ "System.IO.File", "System.Net.Sockets" ]
        },
        "PreloadedContracts": [
          {
            "Name": "UtilityToken",
            "Address": "UC1XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
            "Path": "contracts/UtilityToken.wasm"
          }
        ]
      },
      "EventBus": {
        "Implementation": "UtilityChain.Infrastructure.Eventing.InMemoryEventBus",
        "BufferSize": 8192,
        "RetryPolicy": {
          "RetryCount": 5,
          "BaseDelayMilliseconds": 200
        }
      },
      "Metrics": {
        "Prometheus": {
          "Enabled": true,
          "Endpoint": "http://0.0.0.0:9090/metrics",
          "Label": "utilitychain_node"
        }
      },
      "Storage": {
        "DataDirectory": "%APPDATA%/UtilityChain",
        "Database": {
          "Provider": "SQLite",
          "ConnectionString": "Data Source=%APPDATA%/UtilityChain/chainstate.db;"
        },
        "Pruning": {
          "Mode": "default",
          "KeepRecentBlocks": 2880
        }
      },
      "Wallet": {
        "DefaultPath": "%APPDATA%/UtilityChain/wallets",
        "AutoUnlock": false,
        "KeyDerivation": {
          "Algorithm": "PBKDF2",
          "Iterations": 250000
        }
      },
      "Plugins": {
        "Enabled": [
          "UtilityChain.Plugin.TokenIndexer",
          "UtilityChain.Plugin.NftIndexer",
          "UtilityChain.Plugin.WebSocketNotifier"
        ],
        "PluginDirectory": "plugins",
        "HotReload": true
      }
    }
  },
  "ConnectionStrings": {
    "Postgres": "Host=localhost;Port=5432;Database=utilitychain;Username=uc_admin;Password=ReplaceWithSecurePassword"
  },
  "Logging": {
    "UseSerilog": true,
    "Serilog": {
      "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.File", "Serilog.Sinks.Async" ],
      "MinimumLevel": {
        "Default": "Information",
        "Override": {
          "Microsoft": "Warning",
          "System": "Warning"
        }
      },
      "WriteTo": [
        {
          "Name": "Console",
          "Args": {
            "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {SourceContext} - {Message:lj}{NewLine}{Exception}"
          }
        },
        {
          "Name": "File",
          "Args": {
            "path": "logs/utilitychain-.log",
            "rollingInterval": "Day",
            "retainedFileCountLimit": 14,
            "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] {SourceContext} - {Message:lj}{NewLine}{Exception}"
          }
        }
      ],
      "Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ],
      "Properties": {
        "Application": "UtilityChain.Node"
      }
    }
  },
  "HealthChecksUI": {
    "HealthChecks": [
      {
        "Name": "Node RPC",
        "Uri": "http://localhost:48081/health"
      },
      {
        "Name": "REST API",
        "Uri": "http://localhost:5000/health"
      }
    ],
    "EvaluationTimeOnSeconds": 15,
    "MinimumSecondsBetweenFailureNotifications": 60
  },
  "AllowedHosts": "*"
}
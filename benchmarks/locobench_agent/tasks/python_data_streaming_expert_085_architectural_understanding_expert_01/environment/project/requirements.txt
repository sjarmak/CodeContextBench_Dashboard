# =============================================================================
#  PulseStream Nexus: Production Requirements
# -----------------------------------------------------------------------------
#  This requirements.txt lists tightly-pinned, production-ready dependencies
#  for the PulseStream Nexus data-streaming platform.  Packages are grouped
#  by functional domain for clarity.
#
#  NOTE:
#  • Pin all direct dependencies to an exact version to guarantee deterministic
#    builds (hash-based locking is recommended for deployment).
#  • Transitive dependencies are allowed to float; use `pip-compile --generate-hashes`
#    in CI to capture full lockfile if stricter reproducibility is required.
# =============================================================================

###############################################################################
# Core language support
###############################################################################
python_version >= "3.10"

###############################################################################
# Web / Micro-service layer
###############################################################################
fastapi==0.110.0
uvicorn[standard]==0.29.0
httpx==0.27.0
orjson==3.9.15
rich==13.7.0

###############################################################################
# Streaming & Messaging
###############################################################################
confluent-kafka==2.4.0
aiokafka==0.10.0
kafka-python==2.0.2
rx==1.7.1                     # Reactive extensions (Observer pattern)
redis==5.0.1                  # Lightweight pub/sub & caching

###############################################################################
# Batch / Big-Data processing
###############################################################################
apache-beam[gcp]==2.56.0      # GCP runner extras for Dataflow compatibility
pyspark==3.5.1

###############################################################################
# DataFrames, Arrow & Storage
###############################################################################
pandas==2.2.1
numpy==1.26.4
pyarrow==15.0.2
duckdb==0.10.2
sqlalchemy==2.0.27

###############################################################################
# Data quality & Validation
###############################################################################
great_expectations==0.18.15
pydantic==2.6.4               # Domain models & schema enforcement

###############################################################################
# Observability & Monitoring
###############################################################################
prometheus-client==0.20.0
sentry-sdk==1.43.0
opentelemetry-api==1.26.0
opentelemetry-sdk==1.26.0
opentelemetry-instrumentation==0.44b0

###############################################################################
# Machine Learning / NLP (sentiment, toxicity, virality)
###############################################################################
scikit-learn==1.4.1.post1
textblob==0.17.1
nltk==3.8.1
matplotlib==3.8.3

###############################################################################
# Utilities
###############################################################################
click==8.1.7
loguru==0.7.2
python-dotenv==1.0.1
tenacity==8.4.1
tqdm==4.66.2
packaging==23.2
grpcio==1.62.1
protobuf==5.26.0

###############################################################################
# Development / CI-only (may be moved to `dev-requirements.txt`)
###############################################################################
black==24.2.0
ruff==0.3.3
mypy==1.9.0
pytest==8.0.0
pytest-asyncio==0.23.6
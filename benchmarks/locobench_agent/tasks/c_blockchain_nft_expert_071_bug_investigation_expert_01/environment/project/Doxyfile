#---------------------------------------------------------------------------
#  Doxyfile
#  Auto-generated for the HoloCanvas project.
#
#  HoloCanvas – A Micro-Gallery Blockchain for Generative Artifacts
#  Copyright (c) 2024  HoloCanvas Contributors
#
#  This configuration drives Doxygen to build API documentation for all
#  C sources that compose the HoloCanvas micro-service ecosystem.
#
#  NOTE:
#    * The settings below are tuned for a heterogeneous, event-driven
#      service mesh and assume a typical repository layout:
#
#          HoloCanvas/
#              ├── src/            # .c implementation files
#              ├── include/        # public headers
#              ├── proto/          # gRPC / Protobuf definitions
#              ├── contracts/      # Solidity / eBPF smart contracts
#              └── docs/           # Hand-written developer docs
#
#    * Most options are left explicit rather than relying on Doxygen
#      defaults so that the file remains self-documenting and portable.
#
#---------------------------------------------------------------------------

#---------------------------------------------------------------------------
# Project related configuration options
#---------------------------------------------------------------------------

PROJECT_NAME           = "HoloCanvas"
PROJECT_BRIEF          = "A Micro-Gallery Blockchain for Generative Artifacts"
PROJECT_NUMBER         = "v0.9.0-alpha"
PROJECT_LOGO           = docs/assets/logo_holocanvas.svg

OUTPUT_DIRECTORY       = docs/api
CREATE_SUBDIRS         = YES
ALLOW_UNICODE_NAMES    = YES

#---------------------------------------------------------------------------
# Build configuration options
#---------------------------------------------------------------------------

# Strip out private information on release builds
QUIET                  = NO
WARN_IF_UNDOCUMENTED   = YES
WARN_IF_DOC_ERROR      = YES
WARN_NO_PARAMDOC       = NO
INPUT                  = src include proto contracts
FILE_PATTERNS          = *.c *.h *.proto *.sol
RECURSIVE              = YES
EXCLUDE                = src/tests \
                         src/experimental
EXCLUDE_PATTERNS       = */.git/* */build/* */node_modules/*

#---------------------------------------------------------------------------
# Preprocessing
#---------------------------------------------------------------------------

ENABLE_PREPROCESSING   = YES
MACRO_EXPANSION        = YES
EXPAND_ONLY_PREDEF     = NO
PREDEFINED             = DOXYGEN_SHOULD_SKIP_THIS \
                         HOLOCANVAS_EXPORT= \
                         __attribute__(x)=
SKIP_FUNCTION_MACROS   = YES

#---------------------------------------------------------------------------
# Extraction settings
#---------------------------------------------------------------------------

EXTRACT_ALL            = YES
EXTRACT_PRIVATE        = YES
EXTRACT_STATIC         = YES
EXTRACT_LOCAL_CLASSES  = YES
EXTRACT_ANON_NSPACES   = YES
EXTRACT_PACKAGE        = YES

#---------------------------------------------------------------------------
# Diagram generation (Graphviz)
#---------------------------------------------------------------------------

HAVE_DOT               = YES
DOT_NUM_THREADS        = 2
CLASS_DIAGRAMS         = YES
DOT_IMAGE_FORMAT       = svg
CALL_GRAPH             = YES
CALLER_GRAPH           = YES
DOT_TRANSPARENT        = YES
DOT_MULTI_TARGETS      = YES
INTERACTIVE_SVG        = YES

#---------------------------------------------------------------------------
# Source code browsing
#---------------------------------------------------------------------------

SOURCE_BROWSER         = YES
INLINE_SOURCES         = NO
STRIP_CODE_COMMENTS    = NO
REFERENCED_BY_RELATION = YES
REFERENCES_RELATION    = YES
REFERENCES_LINK_SOURCE = YES
USE_HTAGS              = NO

#---------------------------------------------------------------------------
# Indexing / cross-referencing
#---------------------------------------------------------------------------

ALPHABETICAL_INDEX     = YES
GENERATE_TREEVIEW      = YES
FULL_PATH_NAMES        = NO
STRIP_FROM_PATH        = $(PROJECT_SOURCE_DIR)
SHORT_NAMES            = NO

#---------------------------------------------------------------------------
# HTML output
#---------------------------------------------------------------------------

GENERATE_HTML          = YES
HTML_OUTPUT            = .
HTML_FILE_EXTENSION    = .html
HTML_TIMESTAMP         = YES
HTML_DYNAMIC_SECTIONS  = YES
HTML_COLORSTYLE        = LIGHT
SEARCHENGINE           = YES

#---------------------------------------------------------------------------
# LaTeX / PDF output
#---------------------------------------------------------------------------

GENERATE_LATEX         = NO
GENERATE_RTF           = NO
GENERATE_XML           = YES
GENERATE_MAN           = NO

#---------------------------------------------------------------------------
# Markdown / reStructuredText
#---------------------------------------------------------------------------

MARKDOWN_SUPPORT       = YES
MD_FENCED_CODE         = YES
AUTOLINK_SUPPORT       = YES

#---------------------------------------------------------------------------
# Miscellaneous
#---------------------------------------------------------------------------

# Treat the whole repository as a single project.
EXTENSION_MAPPING      = proto=C sol=C

# A helpful tag file for integration with external docs.
GENERATE_TAGFILE       = docs/tags/HoloCanvas.tag

# Keep intermediate files to assist with CI debugging.
KEEP_INTERMEDIATE_FILES = NO

#---------------------------------------------------------------------------
# End of file
#---------------------------------------------------------------------------
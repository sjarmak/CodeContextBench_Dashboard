```yaml
######################################################################
# MercuryMonolith Commerce Hub ‚Äì Runtime Configuration
# --------------------------------------------------------------------
# This file describes the runtime configuration for the single-binary
# MercuryMonolith Commerce Hub.  The runtime loader parses this file
# at startup (before any threads are spawned) using the internal
# ‚Äúmm_config‚Äù module.  The grammar is superset-YAML (comments allowed).
#
# File location precedence (lowest -> highest):
#   1. /etc/mercury/mercury.yaml
#   2. $XDG_CONFIG_HOME/mercury/mercury.yaml
#   3. ./config/mercury.yaml
#
# NOTE: Changes marked üîÑ can be hot-reloaded via SIGHUP or the
#       /admin/reload-config REST endpoint when ‚Äúhot_reload: true‚Äù.
######################################################################

version: "1.7"               # ‚Ü≥ Config schema version (semver)

######################################################################
# Core process settings
######################################################################
process:
  daemonize:       false     # Run as UNIX daemon (fork+setsid)
  user:            mercury   # Effective UID after startup
  group:           mercury   # Effective GID
  pid_file:        /var/run/mercury-monolith.pid
  # Provide absolute path if daemonized; relative is fine otherwise
  working_dir:     ./runtime

######################################################################
# Server (API Gateway) settings
######################################################################
server:
  http:
    host:          "0.0.0.0"        # üîÑ
    port:          8080             # üîÑ
    backlog:       256
    reuse_port:    true
    tcp_nodelay:   true
    so_keepalive:  60               # seconds (0=disabled)
    max_header_bytes: 16384         # 16 KiB
    max_body_bytes:   10485760      # 10 MiB
  https:
    enabled:       true
    host:          "0.0.0.0"        # ‚Ü≥ Bind addr; leave blank to reuse `http.host`
    port:          8443
    certificate:   "/etc/mercury/tls/fullchain.pem"
    private_key:   "/etc/mercury/tls/privkey.pem"
    min_tls:       "1.2"
    client_auth:   "require"        # none / request / require
    client_ca:     "/etc/mercury/tls/clients_ca.pem"
  cors:
    allowed_origins: ["*"]          # üîÑ
    allowed_headers: ["Authorization","Content-Type"]
    allowed_methods: ["GET","POST","PUT","DELETE","PATCH","OPTIONS"]
    max_age: 7200
  compression:
    enabled:       true
    min_length:    512              # bytes
    algorithms:    ["gzip","br"]

######################################################################
# Authentication / Authorization
######################################################################
security:
  jwt:
    issuer:        "MercuryMonolith"
    audience:      "mercury_clients"
    jwks_uri:      "file:///etc/mercury/jwks.json"
    access_ttl:    "15m"            # RFC3339 durations
    refresh_ttl:   "30d"
    clock_skew:    "60s"
  sessions:
    cookie_name:   "mm_session"
    secure:        true
    same_site:     "Lax"
    ttl:           "8h"
  passwords:
    hash_algo:     "argon2id"
    memory_kib:    64*1024
    iterations:    3
    parallelism:   4

######################################################################
# Database connectivity
######################################################################
database:
  driver:          "postgres"
  dsn:             "postgres://mm_app:CHANGE_ME@127.0.0.1:5432/mercury"
  pool:
    max_open:      64
    max_idle:      16
    max_lifetime:  "2h"
    healthcheck:   "30s"
  # Embedded SQLite fallback (useful for demos)
  sqlite:
    enabled:       false
    file:          "./runtime/mercury.db"
    flags:         ["SQLITE_OPEN_FULLMUTEX","SQLITE_OPEN_CREATE"]

######################################################################
# Caching layers
######################################################################
cache:
  response:
    enabled:       true
    default_ttl:   "60s"            # üîÑ
    max_ttl:       "15m"
    size:          "256MiB"
    key_strategy:  "url+headers"    # url, url+auth, url+headers
  redis:
    enabled:       true
    url:           "redis://localhost:6379/0"
    pool_size:     32
    dial_timeout:  "3s"

######################################################################
# Rate limiting
######################################################################
rate_limiting:
  enabled:         true
  strategy:        "sliding_window"
  window:          "1m"
  max_requests:    600              # per window
  burst:           50
  ip_whitelist:    ["127.0.0.1","::1"]

######################################################################
# Observability
######################################################################
logging:
  level:           "info"           # trace/debug/info/warn/error
  format:          "json"
  file:            "/var/log/mercury/monolith.log"
  rotation:
    max_size:      "100MiB"
    max_backups:   10
    max_age:       "14d"
    compress:      true

metrics:
  prometheus:
    bind:          "127.0.0.1:9095"
    path:          "/metrics"
    collection_interval: "15s"

tracing:
  enabled:         true
  exporter:        "otlp"
  endpoint:        "localhost:4317"
  sampling_rate:   0.05             # 5% of requests

######################################################################
# Feature toggles
######################################################################
features: &features
  response_caching: true
  rate_limiting:   true
  graphql:         true
  openapi:         true
  hot_reload:      true
  experimental:
    inventory_kafka_sync: false
    ai_demand_prediction: false

######################################################################
# Module-specific overrides
######################################################################
modules:
  orders:
    <<: *features
    rate_limiting: true
    response_caching: true
  catalog:
    <<: *features
    response_caching: false   # catalog must reflect stock changes instantly
  billing:
    <<: *features
    response_caching: false
    experimental:
      ai_demand_prediction: true
  users:
    <<: *features
    rate_limiting: false      # internal SSO gateway already caps traffic
  reports:
    <<: *features
    graphql:        false     # reports are REST-only

######################################################################
# Job Scheduler
######################################################################
scheduler:
  enabled:         true
  timezone:        "UTC"
  jobs:
    - id: "daily_reconciliation"
      schedule: "0 3 * * *"   # Cron syntax (UTC)
      timeout:  "30m"
      retries:  3
    - id: "purge_expired_sessions"
      schedule: "@hourly"
      timeout:  "10m"

######################################################################
# Cluster / HA settings (intra-node gossip)
######################################################################
cluster:
  enabled:         false
  node_name:       "mm-node-1"
  bind_addr:       "0.0.0.0:7946"
  peers:           []          # List of "host:port"

######################################################################
# Misc
######################################################################
tmp_dir:           "/var/tmp/mercury"
umask:             "027"
########################################################################
```
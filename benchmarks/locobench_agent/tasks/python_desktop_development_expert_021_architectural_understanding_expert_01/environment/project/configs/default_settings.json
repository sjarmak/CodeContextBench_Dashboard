{
  "app": {
    "name": "FlockDesk",
    "version": "1.0.0",
    "build": "stable",
    "environment": "production",
    "default_language": "en-US"
  },
  "paths": {
    "user_data_dir": "${HOME}/.flockdesk",
    "plugins_dir": "${APP_DIR}/plugins",
    "temp_dir": "${TMPDIR}/flockdesk",
    "logs_dir": "${USER_DATA_DIR}/logs",
    "cache_dir": "${USER_DATA_DIR}/cache",
    "downloads_dir": "${USER_DATA_DIR}/downloads",
    "profiles_dir": "${USER_DATA_DIR}/profiles"
  },
  "event_bus": {
    "backend": "inproc",
    "max_queue_size": 1024,
    "retry_backoff_ms": 250,
    "dead_letter_dir": "${USER_DATA_DIR}/dead_letters",
    "serialization": "msgpack",
    "heartbeat_interval_sec": 5
  },
  "gui": {
    "window": {
      "default_width": 1280,
      "default_height": 800,
      "min_width": 1024,
      "min_height": 640,
      "high_dpi_support": true,
      "remember_last_geometry": true,
      "allow_multi_window": true
    },
    "theme": {
      "active": "system",
      "available": [
        "light",
        "dark",
        "system"
      ],
      "auto_switch": {
        "enabled": true,
        "interval_minutes": 5
      }
    },
    "shortcuts": {
      "global": {
        "open_quick_switcher": "Ctrl+K",
        "toggle_dark_mode": "Ctrl+Shift+L",
        "command_palette": "Ctrl+Shift+P"
      },
      "chat": {
        "send_message": "Enter",
        "new_line": "Shift+Enter",
        "edit_last": "ArrowUp"
      },
      "whiteboard": {
        "pan_mode": "Space",
        "undo": "Ctrl+Z",
        "redo": "Ctrl+Shift+Z"
      }
    },
    "drag_drop": {
      "enable_internal_drag": true,
      "enable_external_drag": true,
      "supported_mime_types": [
        "text/plain",
        "text/markdown",
        "image/png",
        "image/jpeg",
        "application/pdf"
      ],
      "max_payload_size_mb": 200
    },
    "notifications": {
      "enable_desktop_alerts": true,
      "enable_sound": true,
      "quiet_hours": {
        "enabled": false,
        "start": "22:00",
        "end": "07:00"
      }
    }
  },
  "plugins": {
    "auto_load_on_startup": true,
    "auto_install_updates": true,
    "allow_third_party": true,
    "sandbox_processes": true,
    "marketplace_url": "https://plugins.flockdesk.io",
    "blocklist": [
      "example.bad-plugin"
    ],
    "preinstalled": [
      "flockdesk.chat",
      "flockdesk.presence",
      "flockdesk.whiteboard",
      "flockdesk.code-editor",
      "flockdesk.dashboard"
    ]
  },
  "updates": {
    "channel": "stable",
    "auto_check": true,
    "auto_download": true,
    "auto_install_on_exit": true,
    "interval_hours": 4,
    "endpoints": {
      "manifest": "https://updates.flockdesk.io/desktop/manifest.json",
      "packages": "https://updates.flockdesk.io/desktop/packages/"
    }
  },
  "telemetry": {
    "enabled": true,
    "analytics_endpoint": "https://analytics.flockdesk.io/collect",
    "crash_reporting": {
      "enabled": true,
      "provider": "sentry",
      "dsn": "https://<public>@sentry.io/<project>"
    },
    "anonymize_user_id": true,
    "sample_rate": 0.25
  },
  "file_management": {
    "max_upload_size_mb": 500,
    "auto_save_interval_sec": 120,
    "versioning": {
      "enabled": true,
      "max_versions": 20
    },
    "preview": {
      "enable_thumbnails": true,
      "max_thumbnail_size_mb": 50
    }
  },
  "logging": {
    "level": "INFO",
    "max_file_size_mb": 20,
    "backup_count": 5,
    "format": "%(asctime)s - %(levelname)s - %(name)s - %(message)s",
    "console": true,
    "file": true
  },
  "network": {
    "http_timeout_sec": 30,
    "retry_attempts": 3,
    "proxy": {
      "enabled": false,
      "http": "",
      "https": ""
    }
  },
  "security": {
    "require_code_signing": true,
    "allowed_origins": [
      "https://*.flockdesk.io"
    ],
    "content_security_policy": "default-src 'self'; img-src * data:; media-src *; object-src 'none'; script-src 'self'",
    "encryption": {
      "at_rest": "aes-256-gcm",
      "in_transit": "tls1.3"
    }
  },
  "experiments": {
    "enabled": false,
    "feature_flags": {}
  }
}
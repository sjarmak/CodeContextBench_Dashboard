{
  "$schema": "https://flockdesk.dev/schemas/plugin-manifest/v1.json",
  "id": "poll_plugin",
  "name": "Live Polls & Surveys",
  "version": "1.3.0",
  "description": "Create, publish and manage live polls inside any FlockDesk workspace. Results are streamed in real-time over the event-bus and visualised with dynamic charts.",
  "author": {
    "name": "FlockDesk Core Team",
    "email": "plugins@flockdesk.dev",
    "url": "https://flockdesk.dev/plugins/polls"
  },
  "license": "MIT",
  "entry_point": "poll_plugin.main:PollPlugin",
  "minimum_core_version": ">=2.6.0",
  "runtime": {
    "python": ">=3.9,<3.12",
    "qt": ">=6.5,<6.7"
  },
  "ui": {
    "qrc": "resources/polls.qrc",
    "icon": "assets/icons/poll.svg",
    "preferences_view": "poll_plugin.views.preferences.PreferencesView",
    "dockable": true,
    "theme_aware": true
  },
  "capabilities": [
    "event_bus:publish",
    "event_bus:subscribe",
    "gui:dock_widget",
    "state:roam_with_profile",
    "drag_and_drop"
  ],
  "permissions": {
    "network": false,
    "filesystem": {
      "read": ["~/Documents/FlockDesk/Polls/**"],
      "write": ["~/Documents/FlockDesk/Polls/**"]
    },
    "clipboard": true,
    "analytics": "anonymized"
  },
  "event_subscriptions": {
    "fd.session.join": "poll_plugin.handlers.session_events.handle_session_join",
    "fd.user.status": "poll_plugin.handlers.presence_events.handle_user_status",
    "fd.theme.changed": "poll_plugin.handlers.ui_events.handle_theme_change"
  },
  "commands": [
    {
      "id": "poll_plugin.create_new_poll",
      "title": "Create New Poll",
      "shortcut": "Ctrl+Alt+P",
      "icon": "assets/icons/new_poll.svg"
    },
    {
      "id": "poll_plugin.close_poll",
      "title": "Close Active Poll",
      "shortcut": "Ctrl+Alt+Shift+P",
      "icon": "assets/icons/close_poll.svg"
    }
  ],
  "config_schema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "default_duration_seconds": {
        "type": "integer",
        "minimum": 10,
        "maximum": 3600,
        "default": 120,
        "title": "Default Poll Duration",
        "description": "How long a poll should stay open when no explicit duration is given."
      },
      "allow_multiple_answers": {
        "type": "boolean",
        "default": false,
        "title": "Allow Multiple Answers",
        "description": "Whether participants can choose more than one option per poll."
      },
      "results_visibility": {
        "type": "string",
        "enum": ["always", "after_close", "never"],
        "default": "after_close",
        "title": "Results Visibility",
        "description": "When poll results should be visible to participants."
      }
    }
  },
  "hot_reloadable": true,
  "changelog": [
    {
      "version": "1.3.0",
      "date": "2024-06-01",
      "changes": [
        "Added drag-and-drop of CSV answer sets.",
        "Optimised event-bus streaming to reduce overhead by 18%."
      ]
    },
    {
      "version": "1.2.5",
      "date": "2024-03-12",
      "changes": [
        "Fixed crash when closing poll before any votes were cast."
      ]
    },
    {
      "version": "1.2.0",
      "date": "2024-02-01",
      "changes": [
        "Initial public release with live results chart."
      ]
    }
  ],
  "checksums": {
    "manifest_sha256": "REPLACED_AT_BUILD_TIME",
    "plugin_bundle_sha256": "REPLACED_AT_BUILD_TIME"
  },
  "signature": "REPLACED_AT_BUILD_TIME"
}
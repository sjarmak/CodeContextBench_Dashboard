{
  "version": "1.0.0",
  "metadata": {
    "level_id": "supply_chain_sim_001",
    "name": "Supply Chain Showdown",
    "description": "Optimize your logistics network to beat your rival.",
    "author": "LedgerQuest Studio",
    "created_at": "2023-04-01T12:34:56Z",
    "engine_min_version": "0.9.0",
    "tags": [
      "tutorial",
      "supply_chain",
      "multiplayer"
    ]
  },
  "environment": {
    "skybox": "textures/sky/day_clear.hdr",
    "gravity": [
      0,
      -9.81,
      0
    ],
    "ambient_light": [
      0.4,
      0.4,
      0.45
    ],
    "music": "audio/ost/supply_chain_theme.ogg",
    "weather": {
      "type": "dynamic",
      "seed": 1337
    }
  },
  "scripts": [
    {
      "id": "initialize_financials",
      "type": "python",
      "source": "scripts/finance/init_financials.py",
      "on_event": "ON_LEVEL_START"
    }
  ],
  "entities": [
    {
      "entity_id": "player_factory",
      "prefab": "prefabs/factory_basic.json",
      "components": {
        "Transform": {
          "position": [
            10,
            0,
            -5
          ],
          "rotation": [
            0,
            45,
            0
          ],
          "scale": [
            1,
            1,
            1
          ]
        },
        "Owner": {
          "tenant_id": "${tenant_id}",
          "player_id": "${player_id}"
        },
        "Production": {
          "output_rate_per_min": 250,
          "resource_type": "widgets"
        },
        "Financial": {
          "capex": 200000,
          "opex_per_min": 1500,
          "currency": "USD"
        },
        "Auditable": {
          "enabled": true
        }
      }
    },
    {
      "entity_id": "rival_factory",
      "prefab": "prefabs/factory_basic.json",
      "components": {
        "Transform": {
          "position": [
            -15,
            0,
            20
          ],
          "rotation": [
            0,
            -30,
            0
          ]
        },
        "AI_Behaviour": {
          "behaviour_tree": "ai/behaviours/rival_factory.bt",
          "difficulty": "medium"
        },
        "Production": {
          "output_rate_per_min": 275,
          "resource_type": "widgets"
        },
        "Financial": {
          "capex": 200000,
          "opex_per_min": 1800,
          "currency": "USD"
        },
        "Auditable": {
          "enabled": true
        }
      }
    },
    {
      "entity_id": "road_network",
      "components": {
        "Transform": {
          "position": [
            0,
            0,
            0
          ]
        },
        "NetworkGraph": {
          "source": "graphs/road_network_supply_chain.json",
          "edge_weight": "distance_km"
        }
      }
    },
    {
      "entity_id": "delivery_truck_001",
      "prefab": "prefabs/vehicles/truck.json",
      "components": {
        "Transform": {
          "position": [
            12,
            0,
            -8
          ],
          "rotation": [
            0,
            0,
            0
          ]
        },
        "Physics": {
          "mass": 3500,
          "drag": 0.75
        },
        "DriverAI": {
          "state_machine": "ai/state_machines/truck_driver.yaml"
        },
        "Cargo": {
          "capacity": 1000,
          "resource_type": "widgets"
        },
        "Telemetry": {
          "enabled": true,
          "sampling_rate_hz": 2
        }
      }
    }
  ],
  "triggers": [
    {
      "id": "victory_condition",
      "type": "condition",
      "check_interval_sec": 10,
      "condition_script": "scripts/conditions/player_profit_target.py",
      "args": {
        "profit_target": 1000000
      },
      "on_true": [
        "event/victory"
      ]
    },
    {
      "id": "rival_aggression_escalation",
      "type": "time_elapsed",
      "after_sec": 180,
      "actions": [
        {
          "spawn": "entities/rival_truck_prefab.json",
          "at": [
            -10,
            0,
            15
          ]
        }
      ]
    }
  ],
  "object_pools": {
    "vehicles.truck": {
      "initial_size": 3,
      "max_size": 15,
      "warm_strategy": "lazy"
    },
    "effects.explosion": {
      "initial_size": 0,
      "max_size": 20,
      "warm_strategy": "greedy"
    }
  },
  "audit": {
    "enabled": true,
    "log_stream": "aws://logs/ledgerquest/${tenant_id}/level_events"
  },
  "metering": {
    "emit_interval_sec": 60,
    "collector": "aws://kinesis/ledgerquest/usage"
  }
}
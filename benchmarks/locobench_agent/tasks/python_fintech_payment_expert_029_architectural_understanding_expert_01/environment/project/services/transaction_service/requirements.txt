# CrowdPay Connect â€“ Transaction Service
# ---------------------------------------------------------------------
# Production dependencies for the `transaction_service` micro-service.
# Pin versions to guarantee repeatable builds across the fleet.
# ---------------------------------------------------------------------

# ---------------------------------------------------------------------
# Core framework & HTTP layer
fastapi==0.110.0
uvicorn[standard]==0.27.0            # ASGI server

# ---------------------------------------------------------------------
# Data validation & configuration
pydantic==2.6.3                      # Runtime data validation
python-dotenv==1.0.1                 # Environment-variable overrides

# ---------------------------------------------------------------------
# Database & ORM
SQLAlchemy==2.0.29                   # Modern SQL ORM + Core
psycopg2-binary==2.9.9               # PostgreSQL driver
alembic==1.13.1                      # Schema migrations

# ---------------------------------------------------------------------
# Caching, queueing & background tasks
redis==5.0.3                         # In-memory datastore
rq==1.16.1                           # Simple Redis-backed task queue

# ---------------------------------------------------------------------
# Inter-service communication
httpx==0.27.0                        # Async HTTP client

# ---------------------------------------------------------------------
# Security & cryptography
pyjwt[crypto]==2.8.0                 # JWT handling + JWS/JWE
cryptography==42.0.4                 # Low-level crypto primitives

# ---------------------------------------------------------------------
# Logging, reliability & observability
structlog==24.1.0                    # Context-rich structured logs
tenacity==8.2.3                      # Resilient retries
prometheus-client==0.20.0            # Metrics exposition
sentry-sdk==1.39.0                   # Error monitoring
opentelemetry-api==1.23.0            # OpenTelemetry API
opentelemetry-sdk==1.23.0            # OpenTelemetry SDK
opentelemetry-exporter-otlp==1.23.0  # OTLP exporter

# ---------------------------------------------------------------------
# Financial & analytics utilities
forex-python==1.8                    # Real-time FX rates
pandas==2.2.1                        # Data analysis
scikit-learn==1.4.1.post1            # Risk-scoring models

# ---------------------------------------------------------------------
# Event sourcing & Saga orchestration
eventsourcing==10.2.4                # Event-sourced aggregates

# ---------------------------------------------------------------------
# Development & tooling (install with `pip install -r requirements.txt[dev]`)
mypy==1.9.0           ; extra == "dev"       # Static type checks
ruff==0.4.0           ; extra == "dev"       # Linter & formatter
ipython==8.22.2       ; extra == "dev"       # Interactive shell
pytest==8.1.1         ; extra == "dev"       # Test runner
pytest-cov==5.0.0     ; extra == "dev"       # Coverage reporting
hypothesis==6.100.0   ; extra == "dev"       # Property-based testing